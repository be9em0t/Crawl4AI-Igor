# houdini_obj_nodes.yaml
# Config for crawling Houdini OBJ nodes index

name: "houdini_obj_nodes"
type: "llm"
provider: "openai/gpt-4.1"
url: "https://www.sidefx.com/docs/houdini20.5/nodes/obj/index.html"
output_prefix: "houdini_obj_nodes"
structure_instruction: |
  Return a strict JSON array of topic objects representing the Houdini OBJ nodes index.
  For this page, look only into "All tags" category, treat each node as belonging to category named 'OBJ Nodes'.
  Only return the JSON array (no commentary). Ensure all node names are included.
content_instruction: |
  Extend the structure extraction with the descriptions provided for each node.
  Each node may be returned either as a string (node name) or as an object with two fields:
    - name: string (the node name)
    - description: string (the description scraped from the same locatoin as the node name)
  If a description is not available with the node name, crawl to the URL of the node name and try to fetch description there. If still unavailable log to command line as error.
params:
  temperature: 0.0
  max_tokens: 3000

# Instruction for the LLM to discover DOM selectors that reliably locate node names and descriptions
dom_discovery_instruction: |
  Inspect the provided Houdini OBJ index page and the individual node pages. Return a JSON object with two fields:
    - index_selectors: a list of CSS selectors (or anchor/text heuristics) that identify node links/names on the index page.
    - node_page_selectors: a list of CSS selectors (or XPath) that locate the description paragraph or block on a node page (prefer the paragraph immediately following the main H1/H2 header).
  The response must be a strict JSON object. Only return JSON.

# After manual review/approval this mapping will be populated with the approved selectors for deterministic scraping.
dom_selectors: {}
